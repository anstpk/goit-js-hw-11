{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"53403770-87d4de3df2f0f55697bb62e3a\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query) {\n  return axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: true,\n      per_page: 40,\n    },\n  })\n  .then(response => {\n    return response.data;\n  });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector(\".gallery\");\nconst loaderEl = document.getElementById(\"loader\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  if (!Array.isArray(images) || images.length === 0) return;\n\n  const markup = images.map(img => {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = img;\n\n    return `\n      <li class=\"gallery-item\">\n        <a class=\"card\" href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <div class=\"meta\">\n            <div class=\"stat\">\n              <span class=\"stat-title\">Likes</span>\n              <span class=\"stat-value\">${likes}</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-title\">Views</span>\n              <span class=\"stat-value\">${views}</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-title\">Comments</span>\n              <span class=\"stat-value\">${comments}</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-title\">Downloads</span>\n              <span class=\"stat-value\">${downloads}</span>\n            </div>\n          </div>\n        </div>\n        </a>\n      </li>\n    `;\n  }).join(\"\");\n\n  galleryEl.insertAdjacentHTML(\"beforeend\", markup);\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = \"\";\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  loaderEl.classList.remove(\"is-hidden\");\n  loaderEl.classList.add(\"is-visible\");\n  loaderEl.setAttribute(\"aria-hidden\", \"false\");\n}\n\nexport function hideLoader() {\n  loaderEl.classList.remove(\"is-visible\");\n  loaderEl.classList.add(\"is-hidden\");\n  loaderEl.setAttribute(\"aria-hidden\", \"true\");\n}","import \"izitoast/dist/css/iziToast.css\";\nimport iziToast from \"izitoast\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport \"loaders.css/loaders.min.css\";\nimport \"./css/styles.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst input = form.querySelector('input[name=\"search-text\"]');\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  const query = input.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please enter a search term.\",\n      position: \"topRight\",\n    });\n    return;\n  }\n\n  clearGallery();\n\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      const hits = data.hits || [];\n      if (hits.length === 0) {\n        iziToast.info({\n          title: \"No results\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n        });\n        return;\n      }\n\n      createGallery(hits);\n    })\n    .catch(err => {\n      console.error(err);\n      iziToast.error({\n        title: \"Network error\",\n        message: \"Something went wrong while fetching images. Please try again later.\",\n        position: \"topRight\",\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","response","galleryEl","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","e","iziToast","data","hits","err"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAM,IAAIH,EAAU,CACzB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAChB,CACA,CAAG,EACA,KAAKE,GACGA,EAAS,IACjB,CACH,CChBA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,eAAe,QAAQ,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,EAAG,OAEnD,MAAMC,EAASD,EAAO,IAAIE,GAAO,CAC/B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAKP,EAEjF,MAAO;AAAA;AAAA,gCAEqBE,CAAa;AAAA,oBACzBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yCAKLC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOhD,CAAC,EAAE,KAAK,EAAE,EAEVd,EAAU,mBAAmB,YAAaM,CAAM,EAEhDJ,EAAS,QAAO,CAClB,CAEO,SAASa,GAAe,CAC7Bf,EAAU,UAAY,GACtBE,EAAS,QAAO,CAClB,CAEO,SAASc,GAAa,CAC3Bf,EAAS,UAAU,OAAO,WAAW,EACrCA,EAAS,UAAU,IAAI,YAAY,EACnCA,EAAS,aAAa,cAAe,OAAO,CAC9C,CAEO,SAASgB,GAAa,CAC3BhB,EAAS,UAAU,OAAO,YAAY,EACtCA,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,aAAa,cAAe,MAAM,CAC7C,CCjDA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,2BAA2B,EAE5DA,EAAK,iBAAiB,SAAWE,GAAM,CACrCA,EAAE,eAAc,EAEhB,MAAMvB,EAAQsB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACtB,EAAO,CACVwB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACF,CAEAN,EAAY,EAEZC,EAAU,EAEVpB,EAAiBC,CAAK,EACnB,KAAKyB,GAAQ,CACZ,MAAMC,EAAOD,EAAK,MAAQ,CAAA,EAC1B,GAAIC,EAAK,SAAW,EAAG,CACrBF,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACF,CAEAjB,EAAcmB,CAAI,CACpB,CAAC,EACA,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,EACjBH,EAAS,MAAM,CACb,MAAO,gBACP,QAAS,sEACT,SAAU,UAClB,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbJ,EAAU,CACZ,CAAC,CACL,CAAC"}